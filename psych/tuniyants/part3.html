<html>
    <head>
        <title>ОПРОСНИК ГЕНДЕРНОЙ ИДЕНТИЧНОСТИ</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
        <script>
            // (B) ENCRYPT & DECRYPT FUNCTIONS
            var crypt = {
            // (B1) THE SECRET KEY
            secret : "CIPHERKEY",
            
            // (B2) ENCRYPT
            encrypt : function (clear) {
                var cipher = CryptoJS.AES.encrypt(clear, crypt.secret);
                cipher = cipher.toString();
                return cipher;
            },
            
            // (B3) DECRYPT
            decrypt : function (cipher) {
                var decipher = CryptoJS.AES.decrypt(cipher, crypt.secret);
                decipher = decipher.toString(CryptoJS.enc.Utf8);
                return decipher;
            }
            };

            function checkData(){
                all_checked = true;
                for(let i=1; i<=41; i++){
                    this_checked = false;
                    for(let j=1; j<=5; j++){
                        this_checked = this_checked || document.getElementById('q'+i.toString()+'-'+j.toString()).checked;
                    }
                    all_checked = all_checked && this_checked;
                }
                return all_checked;
            }

            function gatherData(){
                var this_data = []
                for(let i=1; i<=41; i++){
                    for(let j=1; j<=5; j++){
                        if(document.getElementById('q'+i.toString()+'-'+j.toString()).checked){
                            this_data[i-1]=j;
                        }
                    }
                }
                return this_data;
            }

            function nextStep(){
                if(!checkData()){
                    document.getElementById('error-message').innerHTML = 'Пожалуйста, заполните все поля!';
                    return;
                }
                // decode the structure from the param
                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);
                const data = decodeURIComponent(urlParams.get('data'));
                var plaintext = crypt.decrypt(data);
                console.log(plaintext);
                all_data = JSON.parse(plaintext);
                // collect data, put into structure
                all_data['part3'] = gatherData();
                // convert structure into string
                new_plaintext = JSON.stringify(all_data);
                // encript the string
                var ciphertext = crypt.encrypt(new_plaintext);
                // go to next page
                window.location.href =  './part4.html?data='+encodeURIComponent(ciphertext);
            }
        </script>
    </head>
    <body>
        <center>
            <h3>Кафедра психологии МГУ им. М.В. Ломоносова в г. Ташкенте</h3>
            <h1>ОПРОСНИК ГЕНДЕРНОЙ ИДЕНТИЧНОСТИ</h1>
            <h3>Мужской вариант</h3>
            <h3>Часть 3</h3>
        </center> 
        <div style="width: 75%; margin: auto;">
            Пожалуйста, прочтите каждое утверждение и укажите, насколько каждое утверждение подходит для описания вашей жизни.<br><br>
        </div>
        <div style="width: 75%; margin: auto;">
            <!-- part 1 questions -->
            <table style="width: 75%; margin: auto; border-collapse: collapse;" border=1px>
                <tr>
                    <th></th>
                    <th>Абсолютно НЕ  верно</th>
                    <th>Скорее НЕ  верно</th>
                    <th>Не знаю</th>
                    <th>Скорее верно</th>
                    <th>Абсолютно верно</th>
                </tr>
                <tr>
                    <td>Мне кажется, мои родные не поддержат меня, если я захочу заняться деятельностью, которая обычно свойственна только женщинам</td>
                    <td><input type="radio" id="q1-1" name="q1" value="1"></td>
                    <td><input type="radio" id="q1-2" name="q1" value="2"></td>
                    <td><input type="radio" id="q1-3" name="q1" value="3"></td>
                    <td><input type="radio" id="q1-4" name="q1" value="4"></td>
                    <td><input type="radio" id="q1-5" name="q1" value="5"></td>
                </tr>
                <tr>
                    <td>Скорее всего, мои родные не будут возражать, если я захочу записаться на курсы кулинарии или бальные танцы</td>
                    <td><input type="radio" id="q2-1" name="q2" value="1"></td>
                    <td><input type="radio" id="q2-2" name="q2" value="2"></td>
                    <td><input type="radio" id="q2-3" name="q2" value="3"></td>
                    <td><input type="radio" id="q2-4" name="q2" value="4"></td>
                    <td><input type="radio" id="q2-5" name="q2" value="5"></td>
                </tr>
                <tr>
                    <td>Как правило, я хороший пример того, как быть мужчиной</td>
                    <td><input type="radio" id="q3-1" name="q3" value="1"></td>
                    <td><input type="radio" id="q3-2" name="q3" value="2"></td>
                    <td><input type="radio" id="q3-3" name="q3" value="3"></td>
                    <td><input type="radio" id="q3-4" name="q3" value="4"></td>
                    <td><input type="radio" id="q3-5" name="q3" value="5"></td>
                </tr>
                <tr>
                    <td>Я думаю, что мужчины более ответственные, чем женщины</td>
                    <td><input type="radio" id="q4-1" name="q4" value="1"></td>
                    <td><input type="radio" id="q4-2" name="q4" value="2"></td>
                    <td><input type="radio" id="q4-3" name="q4" value="3"></td>
                    <td><input type="radio" id="q4-4" name="q4" value="4"></td>
                    <td><input type="radio" id="q4-5" name="q4" value="5"></td>
                </tr>
                <tr>
                    <td>Мне кажется, что мой характер, личность достаточно схожи с личностью большинства мужчин</td>
                    <td><input type="radio" id="q5-1" name="q5" value="1"></td>
                    <td><input type="radio" id="q5-2" name="q5" value="2"></td>
                    <td><input type="radio" id="q5-3" name="q5" value="3"></td>
                    <td><input type="radio" id="q5-4" name="q5" value="4"></td>
                    <td><input type="radio" id="q5-5" name="q5" value="5"></td>
                </tr>
                <tr>
                    <td>Работать над важным проектом я бы предпочел с мужчиной, а не с женщиной</td>
                    <td><input type="radio" id="q6-1" name="q6" value="1"></td>
                    <td><input type="radio" id="q6-2" name="q6" value="2"></td>
                    <td><input type="radio" id="q6-3" name="q6" value="3"></td>
                    <td><input type="radio" id="q6-4" name="q6" value="4"></td>
                    <td><input type="radio" id="q6-5" name="q6" value="5"></td>
                </tr>
                <tr>
                    <td>Я думаю, мои знакомые не поймут, если я захочу устроиться на чисто женскую работу (например, воспитателем или визажистом)</td>
                    <td><input type="radio" id="q7-1" name="q7" value="1"></td>
                    <td><input type="radio" id="q7-2" name="q7" value="2"></td>
                    <td><input type="radio" id="q7-3" name="q7" value="3"></td>
                    <td><input type="radio" id="q7-4" name="q7" value="4"></td>
                    <td><input type="radio" id="q7-5" name="q7" value="5"></td>
                </tr>
                <tr>
                    <td>Мне кажется, что женщины более вспыльчивые, чем мужчины</td>
                    <td><input type="radio" id="q8-1" name="q8" value="1"></td>
                    <td><input type="radio" id="q8-2" name="q8" value="2"></td>
                    <td><input type="radio" id="q8-3" name="q8" value="3"></td>
                    <td><input type="radio" id="q8-4" name="q8" value="4"></td>
                    <td><input type="radio" id="q8-5" name="q8" value="5"></td>
                </tr>
                <tr>
                    <td>Я стремлюсь сохранять и развивать свою мужественность</td>
                    <td><input type="radio" id="q9-1" name="q9" value="1"></td>
                    <td><input type="radio" id="q9-2" name="q9" value="2"></td>
                    <td><input type="radio" id="q9-3" name="q9" value="3"></td>
                    <td><input type="radio" id="q9-4" name="q9" value="4"></td>
                    <td><input type="radio" id="q9-5" name="q9" value="5"></td>
                </tr>
                <tr>
                    <td>У меня хорошо получается то, что можно назвать типично мужскими занятиями</td>
                    <td><input type="radio" id="q10-1" name="q10" value="1"></td>
                    <td><input type="radio" id="q10-2" name="q10" value="2"></td>
                    <td><input type="radio" id="q10-3" name="q10" value="3"></td>
                    <td><input type="radio" id="q10-4" name="q10" value="4"></td>
                    <td><input type="radio" id="q10-5" name="q10" value="5"></td>
                </tr>
                <tr>
                    <td>Мне кажется, что мои знакомые выскажут неодобрение, если я захочу заняться "женскими" делами, например, вести блог в Интернете по уходу за собой или научиться флористике</td>
                    <td><input type="radio" id="q11-1" name="q11" value="1"></td>
                    <td><input type="radio" id="q11-2" name="q11" value="2"></td>
                    <td><input type="radio" id="q11-3" name="q11" value="3"></td>
                    <td><input type="radio" id="q11-4" name="q11" value="4"></td>
                    <td><input type="radio" id="q11-5" name="q11" value="5"></td>
                </tr>
                <tr>
                    <td>То, что я мужчина, дает мне множество преимуществ</td>
                    <td><input type="radio" id="q12-1" name="q12" value="1"></td>
                    <td><input type="radio" id="q12-2" name="q12" value="2"></td>
                    <td><input type="radio" id="q12-3" name="q12" value="3"></td>
                    <td><input type="radio" id="q12-4" name="q12" value="4"></td>
                    <td><input type="radio" id="q12-5" name="q12" value="5"></td>
                </tr>
                <tr>
                    <td>Иногда я думаю, что быть женщиной веселее</td>
                    <td><input type="radio" id="q13-1" name="q13" value="1"></td>
                    <td><input type="radio" id="q13-2" name="q13" value="2"></td>
                    <td><input type="radio" id="q13-3" name="q13" value="3"></td>
                    <td><input type="radio" id="q13-4" name="q13" value="4"></td>
                    <td><input type="radio" id="q13-5" name="q13" value="5"></td>
                </tr>
                <tr>
                    <td>Когда я что-то выбираю, то зачастую задумываюсь, подходит ли это для мужчины</td>
                    <td><input type="radio" id="q14-1" name="q14" value="1"></td>
                    <td><input type="radio" id="q14-2" name="q14" value="2"></td>
                    <td><input type="radio" id="q14-3" name="q14" value="3"></td>
                    <td><input type="radio" id="q14-4" name="q14" value="4"></td>
                    <td><input type="radio" id="q14-5" name="q14" value="5"></td>
                </tr>
                <tr>
                    <td>Мне нравится быть мужчиной</td>
                    <td><input type="radio" id="q15-1" name="q15" value="1"></td>
                    <td><input type="radio" id="q15-2" name="q15" value="2"></td>
                    <td><input type="radio" id="q15-3" name="q15" value="3"></td>
                    <td><input type="radio" id="q15-4" name="q15" value="4"></td>
                    <td><input type="radio" id="q15-5" name="q15" value="5"></td>
                </tr>
                <tr>
                    <td>Когда я принимаю решение, то практически никогда не беру в расчет то, что я мужчина</td>
                    <td><input type="radio" id="q16-1" name="q16" value="1"></td>
                    <td><input type="radio" id="q16-2" name="q16" value="2"></td>
                    <td><input type="radio" id="q16-3" name="q16" value="3"></td>
                    <td><input type="radio" id="q16-4" name="q16" value="4"></td>
                    <td><input type="radio" id="q16-5" name="q16" value="5"></td>
                </tr>
                <tr>
                    <td>То, что мне нравится делать в свободное время, мало похоже на увлечения большинства мужчин</td>
                    <td><input type="radio" id="q17-1" name="q17" value="1"></td>
                    <td><input type="radio" id="q17-2" name="q17" value="2"></td>
                    <td><input type="radio" id="q17-3" name="q17" value="3"></td>
                    <td><input type="radio" id="q17-4" name="q17" value="4"></td>
                    <td><input type="radio" id="q17-5" name="q17" value="5"></td>
                </tr>
                <tr>
                    <td>Окружающие люди могли бы назвать мою манеру общения типично мужской</td>
                    <td><input type="radio" id="q18-1" name="q18" value="1"></td>
                    <td><input type="radio" id="q18-2" name="q18" value="2"></td>
                    <td><input type="radio" id="q18-3" name="q18" value="3"></td>
                    <td><input type="radio" id="q18-4" name="q18" value="4"></td>
                    <td><input type="radio" id="q18-5" name="q18" value="5"></td>
                </tr>
                <tr>
                    <td>На мой взгляд, мужчины более креативные, чем женщины</td>
                    <td><input type="radio" id="q19-1" name="q19" value="1"></td>
                    <td><input type="radio" id="q19-2" name="q19" value="2"></td>
                    <td><input type="radio" id="q19-3" name="q19" value="3"></td>
                    <td><input type="radio" id="q19-4" name="q19" value="4"></td>
                    <td><input type="radio" id="q19-5" name="q19" value="5"></td>
                </tr>
                <tr>
                    <td>Быть мужчиной проще, чем женщиной</td>
                    <td><input type="radio" id="q20-1" name="q20" value="1"></td>
                    <td><input type="radio" id="q20-2" name="q20" value="2"></td>
                    <td><input type="radio" id="q20-3" name="q20" value="3"></td>
                    <td><input type="radio" id="q20-4" name="q20" value="4"></td>
                    <td><input type="radio" id="q20-5" name="q20" value="5"></td>
                </tr>
                <tr>
                    <td>По моему опыту, женщины более эгоистичные, чем мужчины</td>
                    <td><input type="radio" id="q21-1" name="q21" value="1"></td>
                    <td><input type="radio" id="q21-2" name="q21" value="2"></td>
                    <td><input type="radio" id="q21-3" name="q21" value="3"></td>
                    <td><input type="radio" id="q21-4" name="q21" value="4"></td>
                    <td><input type="radio" id="q21-5" name="q21" value="5"></td>
                </tr>
                <tr>
                    <td>Мои жизненные убеждения вряд ли бы поддержали большинство мужчин</td>
                    <td><input type="radio" id="q22-1" name="q22" value="1"></td>
                    <td><input type="radio" id="q22-2" name="q22" value="2"></td>
                    <td><input type="radio" id="q22-3" name="q22" value="3"></td>
                    <td><input type="radio" id="q22-4" name="q22" value="4"></td>
                    <td><input type="radio" id="q22-5" name="q22" value="5"></td>
                </tr>
                <tr>
                    <td>Если у меня возникнет желание научиться вязать или шить, мои родные, скорее всего, отреагируют на это спокойно</td>
                    <td><input type="radio" id="q23-1" name="q23" value="1"></td>
                    <td><input type="radio" id="q23-2" name="q23" value="2"></td>
                    <td><input type="radio" id="q23-3" name="q23" value="3"></td>
                    <td><input type="radio" id="q23-4" name="q23" value="4"></td>
                    <td><input type="radio" id="q23-5" name="q23" value="5"></td>
                </tr>
                <tr>
                    <td>Я считаю, что женщины более ленивые, чем мужчины</td>
                    <td><input type="radio" id="q24-1" name="q24" value="1"></td>
                    <td><input type="radio" id="q24-2" name="q24" value="2"></td>
                    <td><input type="radio" id="q24-3" name="q24" value="3"></td>
                    <td><input type="radio" id="q24-4" name="q24" value="4"></td>
                    <td><input type="radio" id="q24-5" name="q24" value="5"></td>
                </tr>
                <tr>
                    <td>Я считаю несправедливым, что какие-то вещи предназначены только для женщин</td>
                    <td><input type="radio" id="q25-1" name="q25" value="1"></td>
                    <td><input type="radio" id="q25-2" name="q25" value="2"></td>
                    <td><input type="radio" id="q25-3" name="q25" value="3"></td>
                    <td><input type="radio" id="q25-4" name="q25" value="4"></td>
                    <td><input type="radio" id="q25-5" name="q25" value="5"></td>
                </tr>
                <tr>
                    <td>В случае конфликта, столкновения интересов мне проще договориться мужчиной, чем с женщиной</td>
                    <td><input type="radio" id="q26-1" name="q26" value="1"></td>
                    <td><input type="radio" id="q26-2" name="q26" value="2"></td>
                    <td><input type="radio" id="q26-3" name="q26" value="3"></td>
                    <td><input type="radio" id="q26-4" name="q26" value="4"></td>
                    <td><input type="radio" id="q26-5" name="q26" value="5"></td>
                </tr>
                <tr>
                    <td>Я никогда НЕ чувствую себя обманутым из-за того, что НЕ должен что-то делать потому, что я мужчина</td>
                    <td><input type="radio" id="q27-1" name="q27" value="1"></td>
                    <td><input type="radio" id="q27-2" name="q27" value="2"></td>
                    <td><input type="radio" id="q27-3" name="q27" value="3"></td>
                    <td><input type="radio" id="q27-4" name="q27" value="4"></td>
                    <td><input type="radio" id="q27-5" name="q27" value="5"></td>
                </tr>
                <tr>
                    <td>Одобрение, поддержка со стороны других мужчин очень значимы для меня</td>
                    <td><input type="radio" id="q28-1" name="q28" value="1"></td>
                    <td><input type="radio" id="q28-2" name="q28" value="2"></td>
                    <td><input type="radio" id="q28-3" name="q28" value="3"></td>
                    <td><input type="radio" id="q28-4" name="q28" value="4"></td>
                    <td><input type="radio" id="q28-5" name="q28" value="5"></td>
                </tr>
                <tr>
                    <td>Внешне я НЕ выгляжу крайне мужественно</td>
                    <td><input type="radio" id="q29-1" name="q29" value="1"></td>
                    <td><input type="radio" id="q29-2" name="q29" value="2"></td>
                    <td><input type="radio" id="q29-3" name="q29" value="3"></td>
                    <td><input type="radio" id="q29-4" name="q29" value="4"></td>
                    <td><input type="radio" id="q29-5" name="q29" value="5"></td>
                </tr>
                <tr>
                    <td>Мне не нравятся мужчины, которые делают то, что обычно делают только женщины</td>
                    <td><input type="radio" id="q30-1" name="q30" value="1"></td>
                    <td><input type="radio" id="q30-2" name="q30" value="2"></td>
                    <td><input type="radio" id="q30-3" name="q30" value="3"></td>
                    <td><input type="radio" id="q30-4" name="q30" value="4"></td>
                    <td><input type="radio" id="q30-5" name="q30" value="5"></td>
                </tr>
                <tr>
                    <td>Для меня более ценным был бы совет от мужчины моего возраста, чем от сверстницы женщины</td>
                    <td><input type="radio" id="q31-1" name="q31" value="1"></td>
                    <td><input type="radio" id="q31-2" name="q31" value="2"></td>
                    <td><input type="radio" id="q31-3" name="q31" value="3"></td>
                    <td><input type="radio" id="q31-4" name="q31" value="4"></td>
                    <td><input type="radio" id="q31-5" name="q31" value="5"></td>
                </tr>
                <tr>
                    <td>Я считаю, что у мужчин лучше с чувством юмора, чем у женщин</td>
                    <td><input type="radio" id="q32-1" name="q32" value="1"></td>
                    <td><input type="radio" id="q32-2" name="q32" value="2"></td>
                    <td><input type="radio" id="q32-3" name="q32" value="3"></td>
                    <td><input type="radio" id="q32-4" name="q32" value="4"></td>
                    <td><input type="radio" id="q32-5" name="q32" value="5"></td>
                </tr>
                <tr>
                    <td>Я сильно злюсь, когда кто-то говорит мне, что я веду себя как женщина</td>
                    <td><input type="radio" id="q33-1" name="q33" value="1"></td>
                    <td><input type="radio" id="q33-2" name="q33" value="2"></td>
                    <td><input type="radio" id="q33-3" name="q33" value="3"></td>
                    <td><input type="radio" id="q33-4" name="q33" value="4"></td>
                    <td><input type="radio" id="q33-5" name="q33" value="5"></td>
                </tr>
                <tr>
                    <td>Я думаю, что мужчины более дружелюбные, чем женщины</td>
                    <td><input type="radio" id="q34-1" name="q34" value="1"></td>
                    <td><input type="radio" id="q34-2" name="q34" value="2"></td>
                    <td><input type="radio" id="q34-3" name="q34" value="3"></td>
                    <td><input type="radio" id="q34-4" name="q34" value="4"></td>
                    <td><input type="radio" id="q34-5" name="q34" value="5"></td>
                </tr>
                <tr>
                    <td>Обычно мне легче общаться с мужчинами, чем с женщинами</td>
                    <td><input type="radio" id="q35-1" name="q35" value="1"></td>
                    <td><input type="radio" id="q35-2" name="q35" value="2"></td>
                    <td><input type="radio" id="q35-3" name="q35" value="3"></td>
                    <td><input type="radio" id="q35-4" name="q35" value="4"></td>
                    <td><input type="radio" id="q35-5" name="q35" value="5"></td>
                </tr>
                <tr>
                    <td>"Ты настоящий мужчина" - это очень ценный комплимент для меня</td>
                    <td><input type="radio" id="q36-1" name="q36" value="1"></td>
                    <td><input type="radio" id="q36-2" name="q36" value="2"></td>
                    <td><input type="radio" id="q36-3" name="q36" value="3"></td>
                    <td><input type="radio" id="q36-4" name="q36" value="4"></td>
                    <td><input type="radio" id="q36-5" name="q36" value="5"></td>
                </tr>
                <tr>
                    <td>Часто я чувствую досаду из-за того, что должен что-то делать только потому, что я мужчина</td>
                    <td><input type="radio" id="q37-1" name="q37" value="1"></td>
                    <td><input type="radio" id="q37-2" name="q37" value="2"></td>
                    <td><input type="radio" id="q37-3" name="q37" value="3"></td>
                    <td><input type="radio" id="q37-4" name="q37" value="4"></td>
                    <td><input type="radio" id="q37-5" name="q37" value="5"></td>
                </tr>
                <tr>
                    <td>Время от времени я останавливаю свои внутренние порывы мыслью "это не по-мужски"</td>
                    <td><input type="radio" id="q38-1" name="q38" value="1"></td>
                    <td><input type="radio" id="q38-2" name="q38" value="2"></td>
                    <td><input type="radio" id="q38-3" name="q38" value="3"></td>
                    <td><input type="radio" id="q38-4" name="q38" value="4"></td>
                    <td><input type="radio" id="q38-5" name="q38" value="5"></td>
                </tr>
                <tr>
                    <td>По моему опыту, женщины более скучные, чем мужчины</td>
                    <td><input type="radio" id="q39-1" name="q39" value="1"></td>
                    <td><input type="radio" id="q39-2" name="q39" value="2"></td>
                    <td><input type="radio" id="q39-3" name="q39" value="3"></td>
                    <td><input type="radio" id="q39-4" name="q39" value="4"></td>
                    <td><input type="radio" id="q39-5" name="q39" value="5"></td>
                </tr>
                <tr>
                    <td>Я хотел бы, чтобы некоторые вещи, которые обычно делают только женщины, было бы нормально делать и мужчинам</td>
                    <td><input type="radio" id="q40-1" name="q40" value="1"></td>
                    <td><input type="radio" id="q40-2" name="q40" value="2"></td>
                    <td><input type="radio" id="q40-3" name="q40" value="3"></td>
                    <td><input type="radio" id="q40-4" name="q40" value="4"></td>
                    <td><input type="radio" id="q40-5" name="q40" value="5"></td>
                </tr>
                <tr>
                    <td>По описанию моего характера легко догадаться, что я мужчина</td>
                    <td><input type="radio" id="q41-1" name="q41" value="1"></td>
                    <td><input type="radio" id="q41-2" name="q41" value="2"></td>
                    <td><input type="radio" id="q41-3" name="q41" value="3"></td>
                    <td><input type="radio" id="q41-4" name="q41" value="4"></td>
                    <td><input type="radio" id="q41-5" name="q41" value="5"></td>
                </tr>        
            </table>
            <center>
                <br>
                <button onclick="nextStep();">Далее</button>
                <br><br><span id='error-message' style="color: red;"></span>
            </center>
        </div>
    </body>
</html>
